2025-02-18 10:31:58.696 -05:00 [INF] User profile is available. Using 'C:\Users\Brayan Pedraza\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-18 10:31:59.363 -05:00 [INF] Now listening on: http://localhost:5043
2025-02-18 10:31:59.370 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-18 10:31:59.371 -05:00 [INF] Hosting environment: Development
2025-02-18 10:31:59.371 -05:00 [INF] Content root path: E:\proyectos\Proyecto Controlbox\book-review-app\backend\src\AdaptadorAPI\
2025-02-18 10:32:03.964 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - -
2025-02-18 10:32:06.018 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - - - 200 - text/html;charset=utf-8 2064.2498ms
2025-02-18 10:32:06.140 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/_framework/aspnetcore-browser-refresh.js - -
2025-02-18 10:32:06.151 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.4772ms
2025-02-18 10:32:06.378 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/_vs/browserLink - -
2025-02-18 10:32:06.523 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 144.8006ms
2025-02-18 10:32:06.845 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/asyncToGenerator.O4pnRyQq.js - -
2025-02-18 10:32:06.847 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - -
2025-02-18 10:32:06.847 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/index.CucWK6IV.js - -
2025-02-18 10:32:06.848 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/index.umd.BXzp7Rme.js - -
2025-02-18 10:32:06.848 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/Wallet.mlGYZajl.js - -
2025-02-18 10:32:06.898 -05:00 [INF] CORS policy execution failed.
2025-02-18 10:32:06.989 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-18 10:32:06.980 -05:00 [INF] CORS policy execution failed.
2025-02-18 10:32:06.992 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-18 10:32:06.918 -05:00 [INF] CORS policy execution failed.
2025-02-18 10:32:06.987 -05:00 [INF] CORS policy execution failed.
2025-02-18 10:32:06.993 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/index.umd.BXzp7Rme.js - - - 404 0 - 145.7132ms
2025-02-18 10:32:06.993 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/index.CucWK6IV.js - - - 404 0 - 145.8266ms
2025-02-18 10:32:06.993 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-18 10:32:06.994 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-18 10:32:07.003 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/asyncToGenerator.O4pnRyQq.js - - - 404 0 - 158.2142ms
2025-02-18 10:32:07.004 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/Wallet.mlGYZajl.js - - - 404 0 - 156.0615ms
2025-02-18 10:32:07.278 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 427.4189ms
2025-02-18 10:46:23.774 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Usuario/AutenticacionUsuarioPorCorreoYPassword/vanessita@bonita.com/P4ss123@ - -
2025-02-18 10:46:23.789 -05:00 [INF] CORS policy execution successful.
2025-02-18 10:46:23.794 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.UsuarioController.AutenticacionUsuarioPorCorreoYPassword (AdaptadorAPI)'
2025-02-18 10:46:23.853 -05:00 [INF] Route matched with {action = "AutenticacionUsuarioPorCorreoYPassword", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AutenticacionUsuarioPorCorreoYPassword(System.String, System.String) on controller AdaptadorAPI.Controllers.UsuarioController (AdaptadorAPI).
2025-02-18 10:46:26.058 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 10:46:27.161 -05:00 [INF] Executed DbCommand (93ms) [Parameters=[@__Correo_0='?'], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Correo" = @__Correo_0
LIMIT 1
2025-02-18 10:46:27.671 -05:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Usuarios" SET "RefreshToken" = @p0, "RefreshTokenExpiry" = @p1
WHERE "Id" = @p2;
2025-02-18 10:46:27.708 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Entidades.Usuarios.Modelo.AuthenticationResult'.
2025-02-18 10:46:27.758 -05:00 [INF] Executed action AdaptadorAPI.Controllers.UsuarioController.AutenticacionUsuarioPorCorreoYPassword (AdaptadorAPI) in 3895.2235ms
2025-02-18 10:46:27.771 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.UsuarioController.AutenticacionUsuarioPorCorreoYPassword (AdaptadorAPI)'
2025-02-18 10:46:27.790 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Usuario/AutenticacionUsuarioPorCorreoYPassword/vanessita@bonita.com/P4ss123@ - - - 200 - application/json;+charset=utf-8 4015.5210ms
2025-02-18 10:46:27.791 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Usuario/ObtenerUsuarioid/2 - -
2025-02-18 10:46:27.794 -05:00 [INF] CORS policy execution successful.
2025-02-18 10:46:27.795 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.UsuarioController.ObtenerUsuarioid (AdaptadorAPI)'
2025-02-18 10:46:27.798 -05:00 [INF] Route matched with {action = "ObtenerUsuarioid", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerUsuarioid(Int64) on controller AdaptadorAPI.Controllers.UsuarioController (AdaptadorAPI).
2025-02-18 10:46:27.834 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 10:46:27.864 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 10:46:27.867 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Usuarios.Modelo.UsuarioModelo'.
2025-02-18 10:46:27.875 -05:00 [INF] Executed action AdaptadorAPI.Controllers.UsuarioController.ObtenerUsuarioid (AdaptadorAPI) in 75.5498ms
2025-02-18 10:46:27.877 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.UsuarioController.ObtenerUsuarioid (AdaptadorAPI)'
2025-02-18 10:46:27.878 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Usuario/ObtenerUsuarioid/2 - - - 200 - application/json;+charset=utf-8 86.8990ms
2025-02-18 10:46:27.916 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 10:46:27.917 -05:00 [INF] CORS policy execution successful.
2025-02-18 10:46:27.918 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 10:46:27.925 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 10:46:27.995 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 10:46:28.039 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 10:46:28.184 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 10:46:28.220 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 10:46:28.228 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 298.782ms
2025-02-18 10:46:28.230 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 10:46:28.230 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 10:46:28.231 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 315.3571ms
2025-02-18 10:46:28.233 -05:00 [INF] CORS policy execution successful.
2025-02-18 10:46:28.234 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 10:46:28.236 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 10:46:28.238 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 10:46:28.242 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 10:46:28.247 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 10:46:28.250 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 10:46:28.251 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.9607ms
2025-02-18 10:46:28.253 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 10:46:28.254 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 24.2010ms
2025-02-18 11:20:27.366 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:20:27.398 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:27.399 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:20:27.401 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:20:27.409 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:27.523 -05:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:20:27.557 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:20:27.562 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:27.563 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 160.8786ms
2025-02-18 11:20:27.565 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:20:27.566 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 199.8734ms
2025-02-18 11:20:37.215 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:20:37.215 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:20:37.217 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:37.221 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:37.222 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 7.4592ms
2025-02-18 11:20:37.222 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 7.4592ms
2025-02-18 11:20:37.228 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:20:37.232 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:20:37.366 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:37 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:20:37.366 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:37 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:20:37.440 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:37 p.m.'.
2025-02-18 11:20:37.443 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:37 p.m.'.
2025-02-18 11:20:37.444 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:37.445 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:37.445 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:37.446 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:37.449 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:20:37.450 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:20:37.463 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:37.463 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:37.468 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:20:37.504 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:20:37.516 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:20:37.520 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:20:37.528 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:20:37.531 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:20:37.711 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:20:37.711 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:20:37.735 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:37.735 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:37.739 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 286.044ms
2025-02-18 11:20:37.739 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 288.0249ms
2025-02-18 11:20:37.741 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:37.742 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:37.744 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 515.2044ms
2025-02-18 11:20:37.746 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 513.4722ms
2025-02-18 11:20:39.968 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-18 11:20:39.971 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:20:39.974 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:39.975 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:39.976 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 8.0093ms
2025-02-18 11:20:39.985 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:20:39.986 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-18 11:20:39.988 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:20:39.989 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-18 11:20:39.991 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:39.992 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:39.995 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:20:39.997 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:40.002 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:20:40.002 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:20:40.005 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:40.009 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 17.908ms
2025-02-18 11:20:40.011 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:20:40.013 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 42.4467ms
2025-02-18 11:20:40.015 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:20:40.017 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:40.018 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:20:40.020 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:20:40.023 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:40.026 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:20:40.030 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:20:40.031 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-18 11:20:40.033 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:40.036 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.9907ms
2025-02-18 11:20:40.037 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:20:40.039 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 23.3493ms
2025-02-18 11:20:40.066 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 59.3141ms
2025-02-18 11:20:40.068 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:40.069 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 83.0054ms
2025-02-18 11:20:42.292 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:20:42.295 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:20:42.296 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:42.298 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:42.301 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 6.0072ms
2025-02-18 11:20:42.304 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:20:42.300 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.1580ms
2025-02-18 11:20:42.307 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:42 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:20:42.307 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:20:42.314 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:42 p.m.'.
2025-02-18 11:20:42.315 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:42 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:20:42.315 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:42.320 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:42 p.m.'.
2025-02-18 11:20:42.320 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:42.321 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:42.322 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:20:42.323 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:42.325 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:42.326 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:20:42.328 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:20:42.330 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:20:42.332 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:20:42.334 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:20:42.336 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:20:42.338 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:20:42.341 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:20:42.343 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:20:42.345 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:42.348 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:20:42.348 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.7061ms
2025-02-18 11:20:42.352 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:20:42.352 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:42.354 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 24.6272ms
2025-02-18 11:20:42.357 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:20:42.355 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 50.5236ms
2025-02-18 11:20:42.364 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 56.9422ms
2025-02-18 11:20:53.051 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/GuardarReview - -
2025-02-18 11:20:53.053 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:53.055 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/GuardarReview - - - 204 - - 3.7582ms
2025-02-18 11:20:53.066 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/GuardarReview application/json 57
2025-02-18 11:20:53.069 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:53 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:20:53.089 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:01:27 p.m.', Current time (UTC): '18/02/2025 4:20:53 p.m.'.
2025-02-18 11:20:53.102 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-18 11:20:53.114 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-18 11:20:53.115 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/GuardarReview application/json 57 - 401 0 - 49.1613ms
2025-02-18 11:20:58.495 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/GuardarReview - -
2025-02-18 11:20:58.496 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:58.500 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/GuardarReview - - - 204 - - 2.8699ms
2025-02-18 11:20:58.517 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/GuardarReview application/json 57
2025-02-18 11:20:58.546 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:20:58.547 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.GuardarReview (AdaptadorAPI)'
2025-02-18 11:20:58.550 -05:00 [INF] Route matched with {action = "GuardarReview", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GuardarReview(Dominio.Reviews.Modelo.ReviewModel) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:20:58.664 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-18 11:20:58.733 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.GuardarReview (AdaptadorAPI) in 178.1405ms
2025-02-18 11:20:58.737 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.GuardarReview (AdaptadorAPI)'
2025-02-18 11:20:58.751 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/GuardarReview application/json 57 - 400 - application/problem+json;+charset=utf-8 233.5014ms
2025-02-18 11:23:27.360 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/GuardarReview - -
2025-02-18 11:23:27.367 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:23:27.368 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/GuardarReview - - - 204 - - 7.4752ms
2025-02-18 11:23:27.369 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/GuardarReview application/json 68
2025-02-18 11:23:27.371 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:23:27.372 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.GuardarReview (AdaptadorAPI)'
2025-02-18 11:23:27.373 -05:00 [INF] Route matched with {action = "GuardarReview", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GuardarReview(Dominio.Reviews.Modelo.ReviewModel) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:23:27.376 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-18 11:23:27.378 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.GuardarReview (AdaptadorAPI) in 2.7771ms
2025-02-18 11:23:27.380 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.GuardarReview (AdaptadorAPI)'
2025-02-18 11:23:27.381 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/GuardarReview application/json 68 - 400 - application/problem+json;+charset=utf-8 12.0820ms
2025-02-18 11:28:56.894 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:28:56.898 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:28:56.899 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:28:56.900 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:28:56.903 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:28:56.950 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:28:56.957 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:28:56.959 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:28:56.961 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 59.3879ms
2025-02-18 11:28:56.963 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:28:56.965 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 71.5646ms
2025-02-18 11:28:56.965 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:28:56.969 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:28:56.970 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:28:56.972 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:28:56.976 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:28:56.979 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:28:56.983 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:28:56.986 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:28:56.987 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.1174ms
2025-02-18 11:28:56.989 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:28:56.991 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 26.0731ms
2025-02-18 11:28:58.032 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:28:58.032 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:28:58.034 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:28:58.035 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:28:58.036 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 4.4900ms
2025-02-18 11:28:58.037 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.6186ms
2025-02-18 11:28:58.039 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:28:58.040 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:28:58.042 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:28:58.044 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:28:58.046 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:28:58.045 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:28:58.048 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:28:58.049 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:28:58.053 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:28:58.055 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:28:58.059 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:28:58.064 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:28:58.068 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:28:58.074 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:28:58.078 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:28:58.080 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 27.9996ms
2025-02-18 11:28:58.083 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:28:58.084 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 43.8606ms
2025-02-18 11:28:58.114 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:28:58.117 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:28:58.122 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:28:58.126 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:28:58.129 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:28:58.130 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 75.1869ms
2025-02-18 11:28:58.132 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:28:58.133 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 93.7083ms
2025-02-18 11:29:02.132 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-18 11:29:02.135 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:02.137 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 4.7358ms
2025-02-18 11:29:02.140 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-18 11:29:02.151 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:29:02.151 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-18 11:29:02.153 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:02.154 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:02.155 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:29:02.156 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:29:02.157 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:29:02.158 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:29:02.160 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:29:02.162 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-18 11:29:02.164 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:29:02.165 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 3.4138ms
2025-02-18 11:29:02.170 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:29:02.170 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:29:02.173 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:29:02.174 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 33.6914ms
2025-02-18 11:29:02.175 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 15.7494ms
2025-02-18 11:29:02.178 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 11:29:02.178 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:29:02.181 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 29.7910ms
2025-02-18 11:29:02.179 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:02.183 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:29:02.186 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 11:29:02.190 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:29:02.194 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 11:29:02.197 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 11:29:02.206 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:29:02.207 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 18.9739ms
2025-02-18 11:29:02.208 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 11:29:02.210 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 32.3915ms
2025-02-18 11:29:04.210 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:29:04.219 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:29:04.227 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:04.228 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:04.229 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 18.5122ms
2025-02-18 11:29:04.230 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 10.3713ms
2025-02-18 11:29:04.232 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:29:04.236 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:29:04.237 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:04.238 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:29:04.239 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:29:04.239 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:29:04.240 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:29:04.241 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:29:04.244 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:29:04.245 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:29:04.247 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:29:04.249 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:29:04.251 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:29:04.253 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:29:04.255 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:29:04.258 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:29:04.262 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:29:04.264 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:29:04.265 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:29:04.267 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:29:04.268 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.3577ms
2025-02-18 11:29:04.270 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.1497ms
2025-02-18 11:29:04.272 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:29:04.273 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:29:04.274 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 42.1633ms
2025-02-18 11:29:04.276 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 40.3403ms
2025-02-18 11:40:36.296 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - -
2025-02-18 11:40:36.299 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:40:36.301 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - - - 204 - - 30.9848ms
2025-02-18 11:40:36.311 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 53
2025-02-18 11:40:36.312 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:40:36.313 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 11:40:36.315 -05:00 [INF] Route matched with {action = "ModificarReviewParcial", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ModificarReviewParcial(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Text.Json.JsonElement]) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:40:36.372 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:40:36.421 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:40:57.864 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - -
2025-02-18 11:40:57.870 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:40:57.871 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - - - 204 - - 7.7265ms
2025-02-18 11:40:57.876 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 62
2025-02-18 11:40:57.878 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:40:57.880 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 11:40:57.882 -05:00 [INF] Route matched with {action = "ModificarReviewParcial", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ModificarReviewParcial(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Text.Json.JsonElement]) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:40:57.885 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 11:40:57.888 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:40:58.812 -05:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:41:02.383 -05:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 11:41:07.902 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 11:41:07.909 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 11:41:07.950 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 11:41:07.955 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 11:41:07.981 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Reviews" SET "Calificacion" = @p0, "Comentario" = @p1, "UsuarioId" = @p2
WHERE "Id" = @p3;
2025-02-18 11:41:07.987 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 11:41:07.987 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Reviews" SET "Calificacion" = @p0, "Comentario" = @p1, "UsuarioId" = @p2
WHERE "Id" = @p3;
2025-02-18 11:41:07.991 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 11:41:07.997 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI) in 31679.1424ms
2025-02-18 11:41:07.997 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI) in 10110.2807ms
2025-02-18 11:41:07.998 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 11:41:08.000 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 11:41:08.008 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 62 - 200 - application/json;+charset=utf-8 10132.5728ms
2025-02-18 11:41:08.001 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 53 - 200 - application/json;+charset=utf-8 31690.8887ms
2025-02-18 11:41:26.613 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Review/ObtenerReviewPorId/4 - -
2025-02-18 11:41:26.615 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ObtenerReviewPorId (AdaptadorAPI)'
2025-02-18 11:41:26.619 -05:00 [INF] Route matched with {action = "ObtenerReviewPorId", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerReviewPorId(Int64) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:41:26.633 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:41:26.637 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 11:41:26.644 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Reviews.Modelo.ReviewModel'.
2025-02-18 11:41:26.646 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ObtenerReviewPorId (AdaptadorAPI) in 20.3193ms
2025-02-18 11:41:26.647 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ObtenerReviewPorId (AdaptadorAPI)'
2025-02-18 11:41:26.648 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Review/ObtenerReviewPorId/4 - - - 200 - application/json;+charset=utf-8 35.2435ms
2025-02-18 11:42:15.141 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 11:42:15.146 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:42:15.147 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 6.9966ms
2025-02-18 11:42:15.162 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 11:42:15.171 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:35:58 p.m.', Current time (UTC): '18/02/2025 4:42:15 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:42:15.176 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:35:58 p.m.', Current time (UTC): '18/02/2025 4:42:15 p.m.'.
2025-02-18 11:42:15.178 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:42:15.179 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:42:15.181 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:42:15.183 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:42:15.186 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:42:15.189 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 11:42:15.197 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 11:42:15.205 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 11:42:15.208 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 11:42:15.209 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 26.6113ms
2025-02-18 11:42:15.211 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 11:42:15.213 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.0545ms
2025-02-18 11:42:19.905 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - -
2025-02-18 11:42:19.910 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:42:19.916 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - - - 204 - - 10.3140ms
2025-02-18 11:42:19.920 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 54
2025-02-18 11:42:19.922 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:35:58 p.m.', Current time (UTC): '18/02/2025 4:42:19 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 11:42:19.930 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:35:58 p.m.', Current time (UTC): '18/02/2025 4:42:19 p.m.'.
2025-02-18 11:42:19.931 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-18 11:42:19.932 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-18 11:42:19.932 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 54 - 401 0 - 11.9934ms
2025-02-18 11:42:22.802 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 54
2025-02-18 11:42:22.804 -05:00 [INF] CORS policy execution successful.
2025-02-18 11:42:22.805 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 11:42:22.807 -05:00 [INF] Route matched with {action = "ModificarReviewParcial", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ModificarReviewParcial(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Text.Json.JsonElement]) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 11:42:22.811 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 11:42:22.815 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 11:42:22.819 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 11:42:22.824 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 11:42:22.827 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 11:42:22.830 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Reviews" SET "Calificacion" = @p0, "Comentario" = @p1, "UsuarioId" = @p2
WHERE "Id" = @p3;
2025-02-18 11:42:22.832 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 11:42:22.834 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI) in 24.0822ms
2025-02-18 11:42:22.836 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 11:42:22.837 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 54 - 200 - application/json;+charset=utf-8 34.5646ms
2025-02-18 12:24:50.609 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - -
2025-02-18 12:24:50.613 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:24:50.615 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - - - 204 - - 36.4219ms
2025-02-18 12:24:50.616 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 71
2025-02-18 12:24:50.620 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:57:22 p.m.', Current time (UTC): '18/02/2025 5:24:50 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 12:24:50.627 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 4:57:22 p.m.', Current time (UTC): '18/02/2025 5:24:50 p.m.'.
2025-02-18 12:24:50.629 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-18 12:24:50.630 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-18 12:24:50.630 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 71 - 401 0 - 14.0424ms
2025-02-18 12:24:53.944 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 71
2025-02-18 12:24:53.948 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:24:53.950 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 12:24:53.951 -05:00 [INF] Route matched with {action = "ModificarReviewParcial", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ModificarReviewParcial(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Text.Json.JsonElement]) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 12:24:53.960 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 12:24:54.024 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 12:24:54.034 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 12:24:54.039 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 12:24:54.042 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 12:24:54.047 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Reviews" SET "Calificacion" = @p0, "Comentario" = @p1, "UsuarioId" = @p2
WHERE "Id" = @p3;
2025-02-18 12:24:54.050 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 12:24:54.052 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI) in 97.7603ms
2025-02-18 12:24:54.053 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 12:24:54.054 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 71 - 200 - application/json;+charset=utf-8 110.6513ms
2025-02-18 12:25:18.835 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - -
2025-02-18 12:25:18.837 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:25:18.840 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - - - 204 - - 4.6833ms
2025-02-18 12:25:18.845 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 70
2025-02-18 12:25:18.849 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:25:18.851 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 12:25:18.853 -05:00 [INF] Route matched with {action = "ModificarReviewParcial", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ModificarReviewParcial(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Text.Json.JsonElement]) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 12:25:18.856 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 12:25:18.859 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 12:25:18.862 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 12:25:18.865 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 12:25:18.868 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 12:25:18.871 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Reviews" SET "Calificacion" = @p0, "Comentario" = @p1, "UsuarioId" = @p2
WHERE "Id" = @p3;
2025-02-18 12:25:18.873 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 12:25:18.874 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI) in 18.9281ms
2025-02-18 12:25:18.876 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 12:25:18.878 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 70 - 200 - application/json;+charset=utf-8 32.1765ms
2025-02-18 12:30:39.606 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - -
2025-02-18 12:30:39.615 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:30:39.617 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ModificarReviewParcial/4 - - - 204 - - 10.5738ms
2025-02-18 12:30:39.626 -05:00 [INF] Request starting HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 75
2025-02-18 12:30:39.628 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:30:39.628 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 12:30:39.629 -05:00 [INF] Route matched with {action = "ModificarReviewParcial", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ModificarReviewParcial(Int64, System.Collections.Generic.Dictionary`2[System.String,System.Text.Json.JsonElement]) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 12:30:39.634 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 12:30:39.816 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 12:30:39.828 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 12:30:39.837 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 12:30:39.841 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 12:30:39.845 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Int64), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Reviews" SET "Calificacion" = @p0, "Comentario" = @p1, "UsuarioId" = @p2
WHERE "Id" = @p3;
2025-02-18 12:30:39.849 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 12:30:39.850 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI) in 218.0869ms
2025-02-18 12:30:39.853 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ModificarReviewParcial (AdaptadorAPI)'
2025-02-18 12:30:39.854 -05:00 [INF] Request finished HTTP/1.1 PATCH http://localhost:5043/Review/ModificarReviewParcial/4 application/json 75 - 200 - application/json;+charset=utf-8 228.5002ms
2025-02-18 12:30:40.975 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 12:30:40.981 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:30:40.983 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 40.3687ms
2025-02-18 12:30:40.984 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 12:30:40.987 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:30:40.988 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 12:30:40.990 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 12:30:40.995 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 12:30:40.999 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 12:30:41.010 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 12:30:41.016 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 12:30:41.027 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 12:30:41.032 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 12:30:41.035 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 41.939ms
2025-02-18 12:30:41.037 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 12:30:41.038 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.8295ms
2025-02-18 12:31:46.409 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/EliminarReviewPorId/4 - -
2025-02-18 12:31:46.414 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:31:46.416 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/EliminarReviewPorId/4 - - - 204 - - 11.8916ms
2025-02-18 12:31:46.425 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5043/Review/EliminarReviewPorId/4 application/json -
2025-02-18 12:31:46.428 -05:00 [INF] CORS policy execution successful.
2025-02-18 12:31:46.430 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.EliminarReviewPorId (AdaptadorAPI)'
2025-02-18 12:31:46.466 -05:00 [INF] Route matched with {action = "EliminarReviewPorId", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarReviewPorId(Int64) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 12:31:46.507 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 12:31:46.511 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 12:31:50.016 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-18 12:31:50.041 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-18 12:31:50.047 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-18 12:31:50.167 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
DELETE FROM "Reviews"
WHERE "Id" = @p0;
2025-02-18 12:31:50.178 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-18 12:31:50.181 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.EliminarReviewPorId (AdaptadorAPI) in 3712.6546ms
2025-02-18 12:31:50.182 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.EliminarReviewPorId (AdaptadorAPI)'
2025-02-18 12:31:50.184 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5043/Review/EliminarReviewPorId/4 application/json - - 200 - application/json;+charset=utf-8 3758.3097ms
2025-02-18 13:24:55.850 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-18 13:24:55.879 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:55.881 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 32.0530ms
2025-02-18 13:24:55.961 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-18 13:24:55.968 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-18 13:24:55.969 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:55.971 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:24:55.974 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:24:55.988 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:24:55.990 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-18 13:24:55.994 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:55.996 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 18.9768ms
2025-02-18 13:24:55.996 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:24:56.000 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:24:56.004 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:24:56.006 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 75.5699ms
2025-02-18 13:24:56.016 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:24:56.075 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:24:56.096 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:24:56.101 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:24:56.103 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 93.6631ms
2025-02-18 13:24:56.110 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:24:56.110 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:24:56.112 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 123.4747ms
2025-02-18 13:24:56.114 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:56.116 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:24:56.118 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:24:56.121 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:24:56.124 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:24:56.127 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:24:56.129 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:24:56.131 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.2604ms
2025-02-18 13:24:56.132 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:24:56.133 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.9684ms
2025-02-18 13:24:57.990 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:24:57.990 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:24:58.004 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:58.005 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:58.007 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 16.9054ms
2025-02-18 13:24:58.009 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:24:58.008 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 18.5338ms
2025-02-18 13:24:58.012 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:24:58.012 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:24:58 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:24:58.013 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:24:58 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:24:58.018 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:24:58 p.m.'.
2025-02-18 13:24:58.022 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:24:58 p.m.'.
2025-02-18 13:24:58.023 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:58.025 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:24:58.026 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:24:58.026 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:24:58.027 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:24:58.029 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:24:58.031 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:24:58.033 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:24:58.037 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:24:58.044 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:24:58.048 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:24:58.054 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:24:58.059 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:24:58.060 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 29.8914ms
2025-02-18 13:24:58.062 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:24:58.063 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.5144ms
2025-02-18 13:24:58.101 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:24:58.105 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:24:58.110 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:24:58.114 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:24:58.117 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:24:58.119 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 86.9693ms
2025-02-18 13:24:58.121 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:24:58.122 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 110.1855ms
2025-02-18 13:25:32.458 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:25:32.464 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:32.465 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:32.467 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:25:32.470 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:25:32.473 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:25:32.478 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:25:32.481 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:25:32.482 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.7768ms
2025-02-18 13:25:32.486 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:32.487 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:25:32.492 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 33.8282ms
2025-02-18 13:25:32.493 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:32.495 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:32.496 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:25:32.498 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:25:32.501 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:25:32.503 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:25:32.505 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:25:32.507 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.0208ms
2025-02-18 13:25:32.508 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:32.509 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.3904ms
2025-02-18 13:25:34.869 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:25:34.869 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:25:34.887 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:34.889 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:34.889 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 20.3648ms
2025-02-18 13:25:34.892 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 22.5652ms
2025-02-18 13:25:34.893 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:25:34.894 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:25:34.896 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:25:34 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:25:34.897 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:25:34 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:25:34.903 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:25:34 p.m.'.
2025-02-18 13:25:34.908 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:25:34 p.m.'.
2025-02-18 13:25:34.909 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:34.910 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:34.910 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:25:34.911 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:25:34.912 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:25:34.913 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:25:34.916 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:25:34.917 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:25:34.919 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:25:34.921 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:25:34.923 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:25:34.925 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:25:34.927 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:25:34.929 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:25:34.933 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:25:34.935 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:25:34.937 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:25:34.939 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:25:34.940 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 24.9609ms
2025-02-18 13:25:34.941 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.1514ms
2025-02-18 13:25:34.943 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:25:34.945 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:25:34.948 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.7649ms
2025-02-18 13:25:34.946 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.1342ms
2025-02-18 13:25:38.928 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:25:38.930 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:38.932 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:38.935 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:25:38.941 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:25:38.944 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:25:38.948 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:25:38.952 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:25:38.953 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 12.1907ms
2025-02-18 13:25:38.955 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:25:38.955 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:38.956 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:25:38.957 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 28.9824ms
2025-02-18 13:25:38.959 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:38.962 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:25:38.964 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:25:38.967 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:25:38.970 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:25:38.972 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:25:38.974 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.1121ms
2025-02-18 13:25:38.976 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:25:38.977 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.0081ms
2025-02-18 13:26:16.378 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:26:16.383 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:26:16.392 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:16.393 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:16.394 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 16.3950ms
2025-02-18 13:26:16.395 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 11.8458ms
2025-02-18 13:26:16.439 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:26:16.440 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:26:16.441 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:16 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:26:16.442 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:16 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:26:16.446 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:16 p.m.'.
2025-02-18 13:26:16.450 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:16 p.m.'.
2025-02-18 13:26:16.451 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:16.452 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:16.453 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:16.453 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:16.455 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:26:16.456 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:26:16.459 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:16.460 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:16.463 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:26:16.464 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:26:16.467 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:26:16.469 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:26:16.472 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:26:16.475 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:26:16.478 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:26:16.480 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:26:16.482 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:16.485 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:16.486 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 27.8072ms
2025-02-18 13:26:16.487 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 27.6133ms
2025-02-18 13:26:16.489 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:16.490 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:16.491 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 52.3874ms
2025-02-18 13:26:16.493 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.0013ms
2025-02-18 13:26:18.370 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-18 13:26:18.375 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:18.380 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 9.9423ms
2025-02-18 13:26:18.381 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-18 13:26:18.384 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-18 13:26:18.386 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:18.390 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:26:18.389 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:18.392 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:18.395 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:26:18.396 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:18.401 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-18 13:26:18.402 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:26:18.403 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 4.5336ms
2025-02-18 13:26:18.409 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:18.410 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:18.413 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:26:18.414 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 32.6427ms
2025-02-18 13:26:18.417 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:26:18.420 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:18.422 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.0188ms
2025-02-18 13:26:18.424 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:26:18.424 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:18.427 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 37.0817ms
2025-02-18 13:26:18.425 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:18.431 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:18.433 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:26:18.437 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:18.444 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:26:18.454 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:26:18.457 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:18.459 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 22.4091ms
2025-02-18 13:26:18.462 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:18.464 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 40.1716ms
2025-02-18 13:26:19.428 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:26:19.428 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:26:19.431 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:19 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:26:19.432 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:19 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:26:19.437 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:19 p.m.'.
2025-02-18 13:26:19.448 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:26:19 p.m.'.
2025-02-18 13:26:19.449 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:19.451 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:19.451 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:19.454 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:19.456 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:26:19.457 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:26:19.459 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:19.461 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:19.464 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:26:19.465 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:26:19.468 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:26:19.470 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:26:19.473 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:26:19.475 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:26:19.478 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:26:19.481 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:26:19.483 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:19.486 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:19.487 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 27.9982ms
2025-02-18 13:26:19.490 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:19.489 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 28.1107ms
2025-02-18 13:26:19.492 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 64.3305ms
2025-02-18 13:26:19.494 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:26:19.499 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 71.0639ms
2025-02-18 13:26:24.220 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:26:24.221 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:24.223 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:24.224 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:26:24.227 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:24.231 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:26:24.236 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:26:24.239 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:24.242 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 15.7031ms
2025-02-18 13:26:24.243 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:26:24.244 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:24.245 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:26:24.246 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 26.2252ms
2025-02-18 13:26:24.247 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:24.250 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:26:24.252 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:26:24.256 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:26:24.261 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:26:24.266 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:26:24.268 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 16.3419ms
2025-02-18 13:26:24.270 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:26:24.272 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 28.4501ms
2025-02-18 13:27:26.474 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:27:26.482 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:26.483 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:27:26.484 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:27:26.487 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:27:26.490 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:27:26.493 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:27:26.495 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:27:26.497 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.8226ms
2025-02-18 13:27:26.500 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:27:26.501 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 26.7851ms
2025-02-18 13:27:27.494 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:27:27.504 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:27.502 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-18 13:27:27.505 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 11.2399ms
2025-02-18 13:27:27.506 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:27.510 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:27:27.511 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.6715ms
2025-02-18 13:27:27.513 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:27:27 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:27:27.514 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-18 13:27:27.518 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:27:27 p.m.'.
2025-02-18 13:27:27.519 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:27:27 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-18 13:27:27.520 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:27.524 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '18/02/2025 5:39:53 p.m.', Current time (UTC): '18/02/2025 6:27:27 p.m.'.
2025-02-18 13:27:27.525 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:27:27.526 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:27.527 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:27:27.528 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:27:27.532 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:27:27.532 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-18 13:27:27.535 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:27:27.537 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:27:27.540 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:27:27.542 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-18 13:27:27.545 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:27:27.547 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-18 13:27:27.551 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:27:27.553 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-18 13:27:27.555 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:27:27.560 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 29.2256ms
2025-02-18 13:27:27.560 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-18 13:27:27.561 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:27:27.565 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:27:27.565 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 55.0179ms
2025-02-18 13:27:27.567 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 30.0652ms
2025-02-18 13:27:27.570 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-18 13:27:27.573 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 59.2912ms
2025-02-18 13:27:31.764 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:27:31.767 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:31.769 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:27:31.771 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:27:31.774 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:27:31.778 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:27:31.781 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:27:31.783 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:27:31.785 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.9523ms
2025-02-18 13:27:31.787 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:27:31.787 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-18 13:27:31.792 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 27.9936ms
2025-02-18 13:27:31.793 -05:00 [INF] CORS policy execution successful.
2025-02-18 13:27:31.795 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:27:31.796 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-18 13:27:31.798 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-18 13:27:31.801 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-18 13:27:31.804 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-18 13:27:31.806 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-18 13:27:31.808 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.6207ms
2025-02-18 13:27:31.809 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-18 13:27:31.810 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 23.4182ms
