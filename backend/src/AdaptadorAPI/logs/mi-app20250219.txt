2025-02-19 08:53:55.028 -05:00 [INF] User profile is available. Using 'C:\Users\Brayan Pedraza\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-19 08:53:57.164 -05:00 [INF] Now listening on: http://localhost:5043
2025-02-19 08:53:57.181 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-19 08:53:57.197 -05:00 [INF] Hosting environment: Development
2025-02-19 08:53:57.199 -05:00 [INF] Content root path: E:\proyectos\Proyecto Controlbox\book-review-app\backend\src\AdaptadorAPI\
2025-02-19 08:53:59.494 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - -
2025-02-19 08:54:02.016 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - - - 200 - text/html;charset=utf-8 2526.8098ms
2025-02-19 08:54:02.363 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/_vs/browserLink - -
2025-02-19 08:54:02.368 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/_framework/aspnetcore-browser-refresh.js - -
2025-02-19 08:54:02.476 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 108.4505ms
2025-02-19 08:54:02.708 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 345.5559ms
2025-02-19 08:54:02.737 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/index.CucWK6IV.js - -
2025-02-19 08:54:02.741 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/asyncToGenerator.O4pnRyQq.js - -
2025-02-19 08:54:02.741 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/index.umd.BXzp7Rme.js - -
2025-02-19 08:54:02.741 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/assets/js/Wallet.mlGYZajl.js - -
2025-02-19 08:54:02.749 -05:00 [INF] CORS policy execution failed.
2025-02-19 08:54:02.749 -05:00 [INF] CORS policy execution failed.
2025-02-19 08:54:02.749 -05:00 [INF] CORS policy execution failed.
2025-02-19 08:54:02.754 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - -
2025-02-19 08:54:02.756 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-19 08:54:02.756 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-19 08:54:02.758 -05:00 [INF] CORS policy execution failed.
2025-02-19 08:54:02.759 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-19 08:54:02.762 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/index.umd.BXzp7Rme.js - - - 404 0 - 21.0847ms
2025-02-19 08:54:02.764 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/asyncToGenerator.O4pnRyQq.js - - - 404 0 - 22.9056ms
2025-02-19 08:54:02.764 -05:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-02-19 08:54:02.803 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/Wallet.mlGYZajl.js - - - 404 0 - 61.7093ms
2025-02-19 08:54:02.765 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/assets/js/index.CucWK6IV.js - - - 404 0 - 28.7160ms
2025-02-19 08:54:03.413 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 659.0882ms
2025-02-19 08:55:04.402 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:55:04.409 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:55:04.450 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:55:04.572 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:55:09.056 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:55:10.675 -05:00 [INF] Executed DbCommand (205ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:55:11.162 -05:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:55:11.528 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:55:11.941 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 6997.4219ms
2025-02-19 08:55:11.944 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:55:11.984 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 7590.0579ms
2025-02-19 08:57:25.747 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Usuario/AutenticacionUsuarioPorCorreoYPassword/vanessita@bonita.com/P4ss123@ - -
2025-02-19 08:57:25.754 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:25.755 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.UsuarioController.AutenticacionUsuarioPorCorreoYPassword (AdaptadorAPI)'
2025-02-19 08:57:25.760 -05:00 [INF] Route matched with {action = "AutenticacionUsuarioPorCorreoYPassword", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AutenticacionUsuarioPorCorreoYPassword(System.String, System.String) on controller AdaptadorAPI.Controllers.UsuarioController (AdaptadorAPI).
2025-02-19 08:57:25.775 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:25.813 -05:00 [INF] Executed DbCommand (11ms) [Parameters=[@__Correo_0='?'], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Correo" = @__Correo_0
LIMIT 1
2025-02-19 08:57:26.270 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[@p2='?' (DbType = Int64), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='300']
UPDATE "Usuarios" SET "RefreshToken" = @p0, "RefreshTokenExpiry" = @p1
WHERE "Id" = @p2;
2025-02-19 08:57:26.301 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Entidades.Usuarios.Modelo.AuthenticationResult'.
2025-02-19 08:57:26.329 -05:00 [INF] Executed action AdaptadorAPI.Controllers.UsuarioController.AutenticacionUsuarioPorCorreoYPassword (AdaptadorAPI) in 566.6259ms
2025-02-19 08:57:26.331 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.UsuarioController.AutenticacionUsuarioPorCorreoYPassword (AdaptadorAPI)'
2025-02-19 08:57:26.332 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Usuario/AutenticacionUsuarioPorCorreoYPassword/vanessita@bonita.com/P4ss123@ - - - 200 - application/json;+charset=utf-8 586.3644ms
2025-02-19 08:57:26.334 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Usuario/ObtenerUsuarioid/2 - -
2025-02-19 08:57:26.336 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:26.337 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.UsuarioController.ObtenerUsuarioid (AdaptadorAPI)'
2025-02-19 08:57:26.339 -05:00 [INF] Route matched with {action = "ObtenerUsuarioid", controller = "Usuario"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerUsuarioid(Int64) on controller AdaptadorAPI.Controllers.UsuarioController (AdaptadorAPI).
2025-02-19 08:57:26.398 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:26.413 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:26.416 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Usuarios.Modelo.UsuarioModelo'.
2025-02-19 08:57:26.418 -05:00 [INF] Executed action AdaptadorAPI.Controllers.UsuarioController.ObtenerUsuarioid (AdaptadorAPI) in 77.4091ms
2025-02-19 08:57:26.419 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.UsuarioController.ObtenerUsuarioid (AdaptadorAPI)'
2025-02-19 08:57:26.420 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Usuario/ObtenerUsuarioid/2 - - - 200 - application/json;+charset=utf-8 86.4381ms
2025-02-19 08:57:26.459 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:57:26.461 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:26.462 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:26.464 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:57:26.466 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:26.470 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:57:26.475 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:57:26.477 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:26.479 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 12.9599ms
2025-02-19 08:57:26.480 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:26.481 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:57:26.481 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.3750ms
2025-02-19 08:57:26.482 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:26.484 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:26.485 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:57:26.491 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:26.494 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:57:26.497 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:57:26.499 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:26.500 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.4109ms
2025-02-19 08:57:26.502 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:26.503 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.2217ms
2025-02-19 08:57:28.313 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 08:57:28.314 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 08:57:28.316 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:28.319 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:28.320 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 6.7341ms
2025-02-19 08:57:28.320 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 6.7778ms
2025-02-19 08:57:28.325 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 08:57:28.326 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 08:57:28.484 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:28.484 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:28.485 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:28.486 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:28.489 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:28.489 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:28.500 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:28.500 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:28.503 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:28.532 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 08:57:28.543 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 08:57:28.555 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:28.559 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 08:57:28.565 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 08:57:28.680 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 08:57:28.681 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 08:57:28.704 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:28.704 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:28.709 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 216.203ms
2025-02-19 08:57:28.709 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 217.9321ms
2025-02-19 08:57:28.710 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:28.711 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:28.713 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 386.6669ms
2025-02-19 08:57:28.714 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 388.6903ms
2025-02-19 08:57:34.276 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:57:34.278 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:34.280 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:34.283 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:57:34.286 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:34.288 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:57:34.291 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:57:34.294 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:34.296 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.2585ms
2025-02-19 08:57:34.297 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:57:34.297 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:34.298 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:34.299 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.8099ms
2025-02-19 08:57:34.300 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:34.302 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:57:34.304 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:34.306 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:57:34.308 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:57:34.311 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:34.312 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.1412ms
2025-02-19 08:57:34.314 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:34.315 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 18.3116ms
2025-02-19 08:57:36.886 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 08:57:36.887 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 08:57:36.888 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:36.889 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:36.890 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 3.5569ms
2025-02-19 08:57:36.892 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 4.9590ms
2025-02-19 08:57:36.893 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 08:57:36.894 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 08:57:36.895 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:36.896 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:36.897 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:36.898 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:36.899 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:36.901 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:36.907 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:36.907 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:36.911 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:36.913 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:36.915 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 08:57:36.918 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 08:57:36.920 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 08:57:36.922 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 08:57:36.926 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 08:57:36.928 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 08:57:36.930 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:36.932 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:36.933 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 30.3184ms
2025-02-19 08:57:36.934 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 29.5822ms
2025-02-19 08:57:36.935 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:36.936 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:36.937 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 44.5925ms
2025-02-19 08:57:36.939 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 45.0109ms
2025-02-19 08:57:51.960 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-19 08:57:51.962 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:51.963 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 3.2648ms
2025-02-19 08:57:51.975 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-19 08:57:51.978 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:57:51.979 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-19 08:57:51.981 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:51.983 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:51.983 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:51.984 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:51.985 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:51.987 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:57:51.989 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:51.998 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:57:52.002 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:57:52.006 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:52.008 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 18.528ms
2025-02-19 08:57:52.005 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-19 08:57:52.010 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:52.013 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 08:57:52.013 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 34.9505ms
2025-02-19 08:57:52.014 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:52.016 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:52.017 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 08:57:52.019 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:52.022 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 08:57:52.026 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 08:57:52.029 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:52.028 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 42.138ms
2025-02-19 08:57:52.030 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 11.6149ms
2025-02-19 08:57:52.032 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:52.033 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 08:57:52.035 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.5540ms
2025-02-19 08:57:52.034 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 58.8062ms
2025-02-19 08:57:57.374 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 08:57:57.374 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 08:57:57.375 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:57.376 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:57.377 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 3.5364ms
2025-02-19 08:57:57.378 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 4.4857ms
2025-02-19 08:57:57.380 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 08:57:57.381 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 08:57:57.382 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:57.383 -05:00 [INF] CORS policy execution successful.
2025-02-19 08:57:57.384 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:57.385 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:57.386 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:57.387 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 08:57:57.389 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:57.393 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 08:57:57.395 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:57.396 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 08:57:57.398 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 08:57:57.400 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 08:57:57.403 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 08:57:57.405 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 08:57:57.407 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 08:57:57.410 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 08:57:57.411 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:57.414 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 08:57:57.415 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.5045ms
2025-02-19 08:57:57.416 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 24.2344ms
2025-02-19 08:57:57.417 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:57.419 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 08:57:57.420 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 39.9490ms
2025-02-19 08:57:57.421 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 40.8211ms
2025-02-19 09:26:02.760 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:02.765 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:02.766 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:02.767 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:02.770 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:02.862 -05:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:02.874 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:02.877 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:02.878 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 109.0178ms
2025-02-19 09:26:02.880 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:02.880 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:02.885 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 124.4199ms
2025-02-19 09:26:02.886 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:02.888 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:02.889 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:02.892 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:02.894 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:02.897 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:02.899 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:02.901 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.6208ms
2025-02-19 09:26:02.903 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:02.904 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 24.0380ms
2025-02-19 09:26:04.359 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:04.360 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:04.376 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:04.377 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:04.378 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 18.9916ms
2025-02-19 09:26:04.382 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 20.5677ms
2025-02-19 09:26:04.386 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:04.387 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:04.415 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:04 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:04.415 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:04 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:04.565 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:04 p.m.'.
2025-02-19 09:26:04.568 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:04 p.m.'.
2025-02-19 09:26:04.570 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:04.571 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:04.572 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:04.573 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:04.574 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:04.575 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:04.577 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:04.580 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:04.584 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:04.590 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:04.594 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:04.599 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:04.602 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:04.604 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 26.8972ms
2025-02-19 09:26:04.605 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:04.606 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 218.7662ms
2025-02-19 09:26:04.731 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:04.734 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:04.740 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:04.745 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:04.748 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:04.750 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 170.7266ms
2025-02-19 09:26:04.752 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:04.753 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 366.4204ms
2025-02-19 09:26:15.301 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-19 09:26:15.308 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:15.312 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 11.1710ms
2025-02-19 09:26:15.335 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-19 09:26:15.336 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-19 09:26:15.338 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:15.340 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:15.342 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:15.345 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-19 09:26:15.347 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 3.3182ms
2025-02-19 09:26:15.352 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:15.353 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 18.3259ms
2025-02-19 09:26:15.392 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:15.393 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:15.394 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:15.396 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:15.399 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:15.402 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:15.405 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:15.408 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:15.409 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.7981ms
2025-02-19 09:26:15.410 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:15.410 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:15.412 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:15.413 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 20.6623ms
2025-02-19 09:26:15.413 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:15.415 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:15.418 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:15.420 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:15.422 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:15.424 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:15.426 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 8.517ms
2025-02-19 09:26:15.427 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:15.430 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 19.6790ms
2025-02-19 09:26:16.447 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:16.454 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:16.454 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:16.455 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:16.456 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.6600ms
2025-02-19 09:26:16.457 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 2.9485ms
2025-02-19 09:26:16.458 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:16.459 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:16.460 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:16 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:16.461 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:16 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:16.469 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:16 p.m.'.
2025-02-19 09:26:16.473 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:16 p.m.'.
2025-02-19 09:26:16.475 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:16.477 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:16.477 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:16.479 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:16.481 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:16.482 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:16.485 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:16.486 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:16.488 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:16.490 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:16.492 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:16.495 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:16.498 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:16.500 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:16.505 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:16.506 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:16.508 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:16.511 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:16.513 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 28.6224ms
2025-02-19 09:26:16.514 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 28.3563ms
2025-02-19 09:26:16.515 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:16.517 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:16.518 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 60.1612ms
2025-02-19 09:26:16.520 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 61.1076ms
2025-02-19 09:26:27.088 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:27.096 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:27.097 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:27.099 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:27.101 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:27.103 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:27.105 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:27.107 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:27.109 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 8.3951ms
2025-02-19 09:26:27.111 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:27.111 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:27.112 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 24.4273ms
2025-02-19 09:26:27.113 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:27.115 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:27.116 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:27.118 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:27.120 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:27.122 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:27.126 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:27.127 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.31ms
2025-02-19 09:26:27.128 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:27.129 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 18.0291ms
2025-02-19 09:26:28.849 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:28.850 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:28.853 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:28.854 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:28.855 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 6.6291ms
2025-02-19 09:26:28.856 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.9470ms
2025-02-19 09:26:28.858 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:28.859 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:28.861 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:28 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:28.862 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:28 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:28.870 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:28 p.m.'.
2025-02-19 09:26:28.875 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:28 p.m.'.
2025-02-19 09:26:28.876 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:28.877 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:28.878 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:28.878 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:28.879 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:28.880 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:28.883 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:28.885 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:28.886 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:28.888 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:28.890 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:28.892 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:28.894 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:28.896 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:28.899 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:28.901 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:28.903 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:28.905 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:28.906 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.8345ms
2025-02-19 09:26:28.908 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.4335ms
2025-02-19 09:26:28.909 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:28.910 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:28.911 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.3776ms
2025-02-19 09:26:28.913 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 53.5171ms
2025-02-19 09:26:51.953 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:51.955 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:51.957 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:51.961 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:51.963 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:51.966 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:51.969 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:51.972 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:51.974 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 11.5667ms
2025-02-19 09:26:51.978 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:51.978 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:51.979 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:51.980 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 26.3808ms
2025-02-19 09:26:51.981 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:51.983 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:51.985 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:51.987 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:51.990 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:51.993 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:51.994 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.5429ms
2025-02-19 09:26:51.995 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:51.996 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 18.2195ms
2025-02-19 09:26:53.799 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:53.799 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:26:53.810 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:53.811 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:53.812 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 13.0228ms
2025-02-19 09:26:53.813 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 14.1450ms
2025-02-19 09:26:53.814 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:53.816 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:53.817 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:53 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:53.818 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:53 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:53.822 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:53 p.m.'.
2025-02-19 09:26:53.826 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:53 p.m.'.
2025-02-19 09:26:53.828 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:53.829 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:53.829 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:53.830 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:53.831 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:53.832 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:53.835 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:53.836 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:53.839 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:53.840 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:53.845 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:53.849 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:53.853 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:53.856 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:53.859 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:53.862 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:53.864 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:53.867 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:53.868 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 33.8129ms
2025-02-19 09:26:53.869 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 33.3952ms
2025-02-19 09:26:53.871 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:53.872 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:53.876 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 59.9880ms
2025-02-19 09:26:53.873 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 58.8548ms
2025-02-19 09:26:55.616 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-19 09:26:55.617 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:55.623 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 7.8862ms
2025-02-19 09:26:55.627 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-19 09:26:55.628 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-19 09:26:55.632 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:55.633 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:55.637 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:55.638 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:55.637 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:55.642 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:55.643 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:55.646 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:55.647 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-19 09:26:55.649 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:55.650 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 2.842ms
2025-02-19 09:26:55.654 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:55.656 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:55.658 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:55.659 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 31.6830ms
2025-02-19 09:26:55.660 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 14.7077ms
2025-02-19 09:26:55.661 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:26:55.662 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:55.663 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:55.664 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 30.9253ms
2025-02-19 09:26:55.667 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:55.671 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:26:55.673 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:55.675 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:26:55.680 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:26:55.684 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:55.685 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.089ms
2025-02-19 09:26:55.687 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:26:55.688 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 26.6329ms
2025-02-19 09:26:57.495 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:57.495 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:26:57.497 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:57 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:57.498 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:57 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:26:57.504 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:57 p.m.'.
2025-02-19 09:26:57.510 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:26:57 p.m.'.
2025-02-19 09:26:57.511 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:57.512 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:26:57.513 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:57.513 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:57.514 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:57.515 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:26:57.517 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:57.519 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:26:57.522 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:57.523 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:26:57.525 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:57.527 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:26:57.529 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:57.531 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:26:57.534 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:57.537 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:26:57.538 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:57.541 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:26:57.542 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 24.6495ms
2025-02-19 09:26:57.543 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 24.2944ms
2025-02-19 09:26:57.544 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:57.545 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:26:57.546 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 51.3277ms
2025-02-19 09:26:57.548 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 52.8580ms
2025-02-19 09:27:01.433 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:27:01.435 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:01.436 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:01.438 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:27:01.441 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:01.444 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:27:01.447 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:27:01.450 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:01.451 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.9508ms
2025-02-19 09:27:01.452 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:27:01.452 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:01.453 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:01.454 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 20.8811ms
2025-02-19 09:27:01.455 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:01.458 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:27:01.461 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:01.464 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:27:01.467 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:27:01.470 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:01.472 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 11.4532ms
2025-02-19 09:27:01.474 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:01.475 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.4132ms
2025-02-19 09:27:02.098 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:27:02.099 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:27:02.139 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:02.140 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:02.141 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 42.8905ms
2025-02-19 09:27:02.143 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 43.6022ms
2025-02-19 09:27:02.149 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:27:02.150 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:27:02.152 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:02 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:27:02.153 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:02 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:27:02.156 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:02 p.m.'.
2025-02-19 09:27:02.160 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:02 p.m.'.
2025-02-19 09:27:02.162 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:02.163 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:02.164 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:02.164 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:02.166 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:27:02.167 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:27:02.170 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:02.172 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:02.174 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:27:02.176 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:27:02.178 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:27:02.180 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:27:02.182 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:27:02.184 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:27:02.187 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:27:02.190 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:27:02.191 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:02.194 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:02.195 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.7858ms
2025-02-19 09:27:02.197 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.232ms
2025-02-19 09:27:02.199 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:02.200 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:02.203 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 54.0028ms
2025-02-19 09:27:02.201 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 51.1682ms
2025-02-19 09:27:08.802 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:27:08.803 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:08.804 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:08.806 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:27:08.808 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:08.812 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:27:08.815 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:27:08.818 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:08.820 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 11.9212ms
2025-02-19 09:27:08.822 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:08.822 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:27:08.824 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.1775ms
2025-02-19 09:27:08.825 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:08.828 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:08.830 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:27:08.833 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:08.836 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:27:08.839 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:27:08.842 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:08.843 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.8156ms
2025-02-19 09:27:08.845 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:27:08.846 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 23.5885ms
2025-02-19 09:27:10.144 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:27:10.144 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:27:10.147 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:10.147 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:10.148 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 3.5844ms
2025-02-19 09:27:10.150 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.3307ms
2025-02-19 09:27:10.152 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:27:10.153 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:27:10.155 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:10 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:27:10.156 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:10 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:27:10.162 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:10 p.m.'.
2025-02-19 09:27:10.167 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:27:10 p.m.'.
2025-02-19 09:27:10.168 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:10.169 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:27:10.170 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:10.171 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:10.172 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:27:10.173 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:27:10.175 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:10.176 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:27:10.179 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:27:10.180 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:27:10.182 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:27:10.184 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:27:10.186 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:27:10.188 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:27:10.191 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:27:10.194 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:27:10.195 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:10.197 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:27:10.198 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.9526ms
2025-02-19 09:27:10.200 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.715ms
2025-02-19 09:27:10.201 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:10.202 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:27:10.203 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 51.1261ms
2025-02-19 09:27:10.204 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 51.6332ms
2025-02-19 09:52:48.625 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-19 09:52:48.628 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:52:48.654 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:48.654 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:48.656 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 60.0030ms
2025-02-19 09:52:48.657 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:48.663 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-19 09:52:48.665 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:52:48.666 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-19 09:52:48.669 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:52:48.669 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:48.674 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:52:48.677 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:52:48.682 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-19 09:52:48.686 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 5.858ms
2025-02-19 09:52:48.687 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:52:48.688 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 24.9143ms
2025-02-19 09:52:48.771 -05:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:52:48.784 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:52:48.787 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:52:48.788 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 120.5368ms
2025-02-19 09:52:48.790 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:48.791 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:52:48.791 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 163.5975ms
2025-02-19 09:52:48.793 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:48.795 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:48.797 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:52:48.800 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:52:48.802 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:52:48.805 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:52:48.807 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:52:48.809 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.7189ms
2025-02-19 09:52:48.811 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:48.812 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 21.2126ms
2025-02-19 09:52:49.722 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:52:49.731 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:49.733 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:52:49.738 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 16.0088ms
2025-02-19 09:52:49.739 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:49.740 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:52:49.741 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 7.6591ms
2025-02-19 09:52:49.743 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:52:49 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:52:49.743 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:52:49.749 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:52:49 p.m.'.
2025-02-19 09:52:49.750 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:52:49 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:52:49.751 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:49.757 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:52:49.756 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:52:49 p.m.'.
2025-02-19 09:52:49.759 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:52:49.760 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:49.763 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:52:49.764 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:52:49.769 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:52:49.769 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:52:49.771 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:52:49.779 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:52:49.787 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:52:49.793 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:52:49.796 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:52:49.798 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 35.5582ms
2025-02-19 09:52:49.799 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:52:49.800 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 60.1545ms
2025-02-19 09:52:49.838 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:52:49.842 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:52:49.848 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:52:49.852 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:52:49.855 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:52:49.856 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 85.5492ms
2025-02-19 09:52:49.857 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:52:49.859 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 115.4139ms
2025-02-19 09:52:59.303 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:52:59.306 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:59.307 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:59.308 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:52:59.311 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:52:59.313 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:52:59.316 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:52:59.319 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:52:59.320 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.004ms
2025-02-19 09:52:59.321 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:52:59.322 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:59.322 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:52:59.323 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 20.0053ms
2025-02-19 09:52:59.325 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:59.327 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:52:59.331 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:52:59.334 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:52:59.336 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:52:59.338 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:52:59.340 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.4122ms
2025-02-19 09:52:59.342 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:52:59.343 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 21.6594ms
2025-02-19 09:53:00.292 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:53:00.295 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.297 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.1030ms
2025-02-19 09:53:00.299 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:53:00.301 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:53:00.303 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.304 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:53:00.304 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.9115ms
2025-02-19 09:53:00.310 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
2025-02-19 09:53:00.310 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:53:00.312 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.314 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:53:00.315 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.321 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
2025-02-19 09:53:00.322 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:53:00.323 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.325 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:00.326 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.328 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:53:00.329 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:53:00.331 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:53:00.333 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:00.336 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:53:00.337 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:53:00.341 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:53:00.342 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:53:00.344 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:00.347 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:53:00.348 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 22.6355ms
2025-02-19 09:53:00.351 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.352 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 50.8050ms
2025-02-19 09:53:00.352 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:53:00.357 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:00.359 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 26.97ms
2025-02-19 09:53:00.361 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.362 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 51.7108ms
2025-02-19 09:53:00.598 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:53:00.599 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.601 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:00.603 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:53:00.606 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:00.609 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:53:00.613 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:53:00.615 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:00.617 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 11.2495ms
2025-02-19 09:53:00.618 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:53:00.618 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:00.619 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.620 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.2831ms
2025-02-19 09:53:00.622 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:00.625 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:53:00.627 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:00.629 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:53:00.632 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:53:00.635 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:00.637 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.096ms
2025-02-19 09:53:00.639 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:00.640 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.0842ms
2025-02-19 09:53:00.794 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:53:00.794 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:53:00.797 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:53:00.797 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:53:00.806 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
2025-02-19 09:53:00.817 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:00 p.m.'.
2025-02-19 09:53:00.819 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.821 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:00.822 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.823 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.824 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:53:00.826 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:53:00.828 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:00.830 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:00.833 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:53:00.835 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:53:00.837 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:53:00.838 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:53:00.841 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:53:00.843 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:53:00.846 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:53:00.849 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:53:00.850 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:00.852 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:00.853 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.2595ms
2025-02-19 09:53:00.855 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 24.7592ms
2025-02-19 09:53:00.856 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.857 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:00.859 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 65.6632ms
2025-02-19 09:53:00.858 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 64.1164ms
2025-02-19 09:53:07.865 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:53:07.867 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:07.869 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:07.870 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:53:07.873 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:07.875 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:53:07.879 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:53:07.882 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:07.883 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 10.836ms
2025-02-19 09:53:07.884 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:07.884 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 09:53:07.885 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 20.4892ms
2025-02-19 09:53:07.886 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:07.888 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:07.889 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 09:53:07.892 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:07.895 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 09:53:07.898 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 09:53:07.900 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:07.901 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.727ms
2025-02-19 09:53:07.903 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 09:53:07.904 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 19.9726ms
2025-02-19 09:53:08.790 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:53:08.791 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 09:53:08.796 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:08.797 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:08.799 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.3368ms
2025-02-19 09:53:08.803 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:53:08.799 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.8814ms
2025-02-19 09:53:08.806 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 09:53:08.805 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:08 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:53:08.808 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:08 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 09:53:08.817 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:08 p.m.'.
2025-02-19 09:53:08.823 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 2:53:08 p.m.'.
2025-02-19 09:53:08.825 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:08.827 -05:00 [INF] CORS policy execution successful.
2025-02-19 09:53:08.829 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:08.828 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:08.830 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:53:08.832 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 09:53:08.835 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:08.838 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 09:53:08.839 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:53:08.841 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 09:53:08.844 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:53:08.846 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 09:53:08.848 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:53:08.851 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 09:53:08.858 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:53:08.861 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 09:53:08.863 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:08.867 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 09:53:08.869 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 34.827ms
2025-02-19 09:53:08.871 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 33.9914ms
2025-02-19 09:53:08.873 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:08.875 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 09:53:08.876 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 69.3627ms
2025-02-19 09:53:08.879 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 76.2554ms
2025-02-19 10:07:59.169 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-19 10:07:59.190 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:07:59.196 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:07:59.217 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:07:59.219 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:07:59.218 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 48.8414ms
2025-02-19 10:07:59.235 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:07:59.237 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-19 10:07:59.240 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:07:59.240 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-19 10:07:59.242 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:07:59.247 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:07:59.248 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:07:59.255 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-19 10:07:59.257 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 5.969ms
2025-02-19 10:07:59.258 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:07:59.261 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 24.5026ms
2025-02-19 10:07:59.330 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:07:59.339 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:07:59.342 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:07:59.344 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 104.529ms
2025-02-19 10:07:59.345 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:07:59.346 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 156.4836ms
2025-02-19 10:07:59.352 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:07:59.354 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:07:59.355 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:07:59.356 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:07:59.358 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:07:59.360 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:07:59.363 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:07:59.369 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:07:59.370 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 13.0509ms
2025-02-19 10:07:59.373 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:07:59.374 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 22.2441ms
2025-02-19 10:08:00.895 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:08:00.895 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:08:00.915 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:00.916 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:00.917 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 21.8832ms
2025-02-19 10:08:00.918 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 22.7004ms
2025-02-19 10:08:00.919 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:08:00.920 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:08:00.922 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:00 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:08:00.923 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:00 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:08:00.929 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:00 p.m.'.
2025-02-19 10:08:00.932 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:00 p.m.'.
2025-02-19 10:08:00.933 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:00.935 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:00.935 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:00.936 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:00.937 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:08:00.938 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:08:00.942 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:08:00.943 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:08:00.947 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:08:00.956 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:08:00.960 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:08:00.965 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:08:00.970 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:08:00.972 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 30.8402ms
2025-02-19 10:08:00.973 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:00.974 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 55.4128ms
2025-02-19 10:08:01.014 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:08:01.023 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:08:01.030 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:08:01.036 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:08:01.039 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:08:01.041 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 97.5937ms
2025-02-19 10:08:01.042 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:01.043 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 123.1590ms
2025-02-19 10:08:06.393 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:08:06.397 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:06.398 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:08:06.400 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:08:06.403 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:08:06.407 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:08:06.411 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:08:06.414 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:08:06.415 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 12.6785ms
2025-02-19 10:08:06.417 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:08:06.418 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:08:06.418 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 25.2545ms
2025-02-19 10:08:06.419 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:06.423 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:08:06.424 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:08:06.426 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:08:06.428 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:08:06.431 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:08:06.433 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:08:06.436 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.7836ms
2025-02-19 10:08:06.437 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:08:06.438 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 20.7923ms
2025-02-19 10:08:07.040 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:08:07.040 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:08:07.044 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:07.045 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:07.045 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.1983ms
2025-02-19 10:08:07.046 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.6481ms
2025-02-19 10:08:07.052 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:08:07.052 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:08:07.054 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:07 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:08:07.055 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:07 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:08:07.060 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:07 p.m.'.
2025-02-19 10:08:07.067 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:08:07 p.m.'.
2025-02-19 10:08:07.068 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:07.069 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:08:07.070 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:07.071 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:07.072 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:08:07.073 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:08:07.076 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:08:07.078 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:08:07.080 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:08:07.081 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:08:07.083 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:08:07.085 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:08:07.104 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:08:07.107 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:08:07.113 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:08:07.116 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:08:07.123 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:08:07.126 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:08:07.128 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 52.6527ms
2025-02-19 10:08:07.131 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 53.974ms
2025-02-19 10:08:07.134 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:07.135 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:08:07.140 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 87.2930ms
2025-02-19 10:08:07.136 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 84.7090ms
2025-02-19 10:09:16.926 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:09:16.929 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:16.930 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:16.931 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:09:16.934 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:16.942 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:09:16.945 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:09:16.948 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:16.949 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 15.6275ms
2025-02-19 10:09:16.950 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:16.952 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 25.2933ms
2025-02-19 10:09:16.958 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:09:16.965 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:16.966 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:16.968 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:09:16.970 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:16.975 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:09:16.980 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:09:16.984 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:16.986 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 16.2833ms
2025-02-19 10:09:16.987 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:16.989 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 30.7423ms
2025-02-19 10:09:18.537 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:09:18.549 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:09:18.550 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:18.551 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:18.552 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 14.8725ms
2025-02-19 10:09:18.555 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.6838ms
2025-02-19 10:09:18.559 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:09:18.560 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:09:18.561 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:18 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:09:18.562 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:18 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:09:18.567 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:18 p.m.'.
2025-02-19 10:09:18.571 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:18 p.m.'.
2025-02-19 10:09:18.572 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:18.573 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:18.574 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:18.574 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:18.575 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:09:18.577 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:09:18.579 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:18.582 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:18.584 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:09:18.586 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:09:18.588 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:09:18.590 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:09:18.593 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:09:18.596 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:09:18.598 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:09:18.601 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:09:18.602 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:18.605 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:18.605 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 26.454ms
2025-02-19 10:09:18.608 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:18.607 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.8089ms
2025-02-19 10:09:18.609 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 50.2415ms
2025-02-19 10:09:18.611 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:18.613 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 52.7158ms
2025-02-19 10:09:26.667 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - -
2025-02-19 10:09:26.669 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:26.671 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined - - - 204 - - 3.8271ms
2025-02-19 10:09:26.674 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0
2025-02-19 10:09:26.714 -05:00 [INF] Bearer was not authenticated. Failure message: No SecurityTokenValidator available for token.
2025-02-19 10:09:26.714 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:09:26.717 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:26.718 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:26.717 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:26.719 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:09:26.720 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:26.728 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:26.729 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:09:26.733 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:09:26.736 -05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-19 10:09:26.738 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:09:26.739 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 4.0338ms
2025-02-19 10:09:26.742 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:26.744 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:26.746 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 23.0567ms
2025-02-19 10:09:26.747 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=undefined application/json 0 - 400 - application/problem+json;+charset=utf-8 72.6845ms
2025-02-19 10:09:26.748 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:09:26.749 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:26.751 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:26.751 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 37.3184ms
2025-02-19 10:09:26.752 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:26.755 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:09:26.757 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:26.760 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:09:26.762 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:09:26.764 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:26.766 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.2276ms
2025-02-19 10:09:26.767 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:09:26.768 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 19.7243ms
2025-02-19 10:09:29.983 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:09:29.983 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:09:29.989 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:29.990 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:29.990 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 7.4275ms
2025-02-19 10:09:29.991 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.1159ms
2025-02-19 10:09:29.993 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:09:29.994 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:09:29.997 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:29 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:09:29.999 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:29 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:09:30.003 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:29 p.m.'.
2025-02-19 10:09:30.007 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:09:29 p.m.'.
2025-02-19 10:09:30.008 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:30.009 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:09:30.010 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:30.011 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:30.012 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:09:30.013 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:09:30.015 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:30.016 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:09:30.018 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:09:30.020 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:09:30.022 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:09:30.024 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:09:30.026 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:09:30.028 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:09:30.031 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:09:30.033 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:09:30.035 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:30.037 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:09:30.038 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.9247ms
2025-02-19 10:09:30.040 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 23.688ms
2025-02-19 10:09:30.041 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:30.042 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:09:30.043 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 50.5124ms
2025-02-19 10:09:30.044 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 50.6243ms
2025-02-19 10:44:36.446 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:44:36.450 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:36.453 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:44:36.455 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:44:36.461 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:36.555 -05:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:44:36.566 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:44:36.571 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:44:36.575 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 118.0281ms
2025-02-19 10:44:36.576 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:44:36.579 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 134.1889ms
2025-02-19 10:44:36.602 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - -
2025-02-19 10:44:36.604 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:36.604 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:44:36.605 -05:00 [INF] Route matched with {action = "ConsultarLibrosPaginadosFiltroOpcional", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarLibrosPaginadosFiltroOpcional(Int32, Int32, System.String) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:44:36.608 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:36.610 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM "Libros" AS l
2025-02-19 10:44:36.612 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo", c.id, c."Descripcion", c."Nombre"
FROM (
    SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Libros" AS l
    ORDER BY l."Titulo"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "CategoriasLibro" AS c ON t."CategoriasLibroId" = c.id
ORDER BY t."Titulo"
2025-02-19 10:44:36.615 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Libros.Modelo.LibroModelo, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:44:36.617 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI) in 9.3864ms
2025-02-19 10:44:36.618 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ConsultarLibrosPaginadosFiltroOpcional (AdaptadorAPI)'
2025-02-19 10:44:36.619 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ConsultarLibrosPaginadosFiltroOpcional/1/20 - - - 200 - application/json;+charset=utf-8 16.8855ms
2025-02-19 10:44:37.229 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:44:37.235 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:37.236 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:44:37.325 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:44:37.400 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:37.507 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:44:37.511 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:44:37.526 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 192.7342ms
2025-02-19 10:44:37.528 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:44:37.529 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:44:37.531 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 302.5610ms
2025-02-19 10:44:37.532 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:37.536 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:44:37.540 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:44:37.539 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - -
2025-02-19 10:44:37.545 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:37.545 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:37.549 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:44:37.549 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - - - 204 - - 9.5590ms
2025-02-19 10:44:37.551 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:44:37.554 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 9.7432ms
2025-02-19 10:44:37.555 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:44:37.556 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 26.3071ms
2025-02-19 10:44:37.556 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:44:37.558 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:37.559 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:44:37.560 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:44:37.565 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:37.567 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:44:37.582 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:44:37.594 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:44:37.749 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:37.749 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:37.753 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:44:37.806 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:44:37.810 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:44:37.812 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 223.0756ms
2025-02-19 10:44:37.814 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:44:37.815 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 255.6119ms
2025-02-19 10:44:37.912 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:44:37.915 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:44:37.919 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:44:37.920 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 321.1417ms
2025-02-19 10:44:37.922 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:44:37.923 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 366.8158ms
2025-02-19 10:44:42.579 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:44:42.638 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:42.639 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:44:42.641 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:44:42.643 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:42.645 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:44:42.647 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:44:42.648 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 5.947ms
2025-02-19 10:44:42.650 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:44:42.651 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 71.5324ms
2025-02-19 10:44:42.657 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - -
2025-02-19 10:44:42.685 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:42.691 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - - - 204 - - 33.8900ms
2025-02-19 10:44:42.694 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:44:42.695 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:44:42.696 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:44:42.697 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:44:42.700 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:44:42.702 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:44:42.708 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:44:42.711 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:44:42.713 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 13.8309ms
2025-02-19 10:44:42.715 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:44:42.715 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 20.9844ms
2025-02-19 10:45:16.721 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:45:16.725 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:45:16.726 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:45:16.727 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:45:16.730 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:45:16.736 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:45:16.739 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:45:16.740 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 10.408ms
2025-02-19 10:45:16.741 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:45:16.742 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 21.4583ms
2025-02-19 10:45:16.768 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - -
2025-02-19 10:45:16.770 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:45:16.771 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - - - 204 - - 2.8974ms
2025-02-19 10:45:16.792 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:45:16.798 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:45:16.799 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:45:16.800 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:45:16.804 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:45:16.808 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:45:16.813 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:45:16.817 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:45:16.818 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 15.5639ms
2025-02-19 10:45:16.822 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:45:16.823 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 31.6026ms
2025-02-19 10:45:19.882 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:45:19.894 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:45:19.895 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:45:19.923 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:45:19.927 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:45:19.930 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:45:19.933 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:45:19.934 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 8.2599ms
2025-02-19 10:45:19.936 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:45:19.937 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 55.1757ms
2025-02-19 10:45:19.942 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:45:19.945 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:45:19.950 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:45:19.952 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:45:19.955 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:45:19.958 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:45:19.976 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:45:19.981 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:45:19.986 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 32.4391ms
2025-02-19 10:45:19.988 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:45:19.989 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 46.6724ms
2025-02-19 10:49:58.319 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:49:58.320 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:49:58.326 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:49:58.326 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:49:58.328 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 8.2349ms
2025-02-19 10:49:58.328 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 12.1671ms
2025-02-19 10:49:58.335 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:49:58.336 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:49:58.345 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:49:58 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:49:58.345 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:49:58 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:49:58.352 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:49:58 p.m.'.
2025-02-19 10:49:58.356 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:49:58 p.m.'.
2025-02-19 10:49:58.357 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:49:58.358 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:49:58.359 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:49:58.359 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:49:58.360 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:49:58.361 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:49:58.365 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:49:58.366 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:49:58.424 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:49:58.433 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:49:58.434 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:49:58.441 -05:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:49:58.443 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:49:58.450 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:49:58.452 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:49:58.454 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:49:58.458 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 94.7528ms
2025-02-19 10:49:58.458 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:49:58.461 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:49:58.465 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:49:58.467 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 101.8541ms
2025-02-19 10:49:58.465 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 129.9288ms
2025-02-19 10:49:58.470 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:49:58.479 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 142.5838ms
2025-02-19 10:50:06.891 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:50:06.895 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:06.896 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:06.898 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:50:06.901 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:06.904 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:06.907 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:50:06.908 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 7.2157ms
2025-02-19 10:50:06.909 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:06.911 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 20.3773ms
2025-02-19 10:50:06.912 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:50:06.917 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:06.919 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:06.917 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - -
2025-02-19 10:50:06.920 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:50:06.922 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:06.923 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:06.924 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - - - 204 - - 6.5079ms
2025-02-19 10:50:06.927 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:06.930 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:50:06.932 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:50:06.933 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:06.934 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 11.2428ms
2025-02-19 10:50:06.934 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:06.935 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:06.936 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:06.937 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 24.8975ms
2025-02-19 10:50:06.944 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:06.945 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:50:06.947 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:06.947 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:06.950 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:06.950 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:50:06.951 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:06.954 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:06.956 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:06.956 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 12.805ms
2025-02-19 10:50:06.959 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:06.960 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:06.962 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 32.6125ms
2025-02-19 10:50:06.963 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:50:06.967 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:06.969 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 14.1568ms
2025-02-19 10:50:06.971 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:06.973 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 27.8099ms
2025-02-19 10:50:07.863 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:50:07.863 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:50:07.866 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:07.867 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 4.5647ms
2025-02-19 10:50:07.866 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:07.870 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 7.5342ms
2025-02-19 10:50:07.873 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:50:07.873 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:50:07.876 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:07 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:50:07.878 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:07 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:50:07.884 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:07 p.m.'.
2025-02-19 10:50:07.889 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:07 p.m.'.
2025-02-19 10:50:07.890 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:07.891 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:07.893 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:07.892 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:07.894 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:07.896 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:07.898 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:07.900 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:07.904 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:50:07.906 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:50:07.908 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:50:07.910 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:50:07.913 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:50:07.916 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:50:07.920 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:50:07.923 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:50:07.924 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:07.929 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:07.932 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 34.1547ms
2025-02-19 10:50:07.933 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 33.3572ms
2025-02-19 10:50:07.934 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:07.935 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:07.937 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 63.6571ms
2025-02-19 10:50:07.938 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 64.8935ms
2025-02-19 10:50:11.649 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:50:11.651 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:11.652 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:11.653 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:50:11.656 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:11.659 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:11.664 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:50:11.665 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 8.7987ms
2025-02-19 10:50:11.666 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:50:11.666 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:11.668 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:11.669 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 20.1701ms
2025-02-19 10:50:11.670 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:11.673 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:50:11.674 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:50:11.679 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:11.676 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:11.682 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:11.682 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:11.685 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:50:11.686 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:11.687 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 8.8768ms
2025-02-19 10:50:11.692 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:11.693 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:11.696 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:11.696 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 29.9073ms
2025-02-19 10:50:11.700 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:50:11.700 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:11.701 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:50:11.701 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:11.705 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:11.705 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:11.707 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 15.0237ms
2025-02-19 10:50:11.709 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:11.710 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:11.712 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:11.712 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 39.1027ms
2025-02-19 10:50:11.718 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:50:11.721 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:11.723 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 15.008ms
2025-02-19 10:50:11.726 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:11.727 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 26.7873ms
2025-02-19 10:50:12.817 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:50:12.817 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:50:12.821 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:12 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:50:12.821 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:12 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:50:12.830 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:12 p.m.'.
2025-02-19 10:50:12.834 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:12 p.m.'.
2025-02-19 10:50:12.838 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:12.835 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:12.839 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:12.840 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:12.841 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:12.842 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:12.845 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:12.846 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:12.849 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:50:12.851 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:50:12.853 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:50:12.855 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:50:12.857 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:50:12.859 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:50:12.862 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:50:12.865 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:50:12.866 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:12.869 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:12.869 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.4024ms
2025-02-19 10:50:12.871 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 25.0126ms
2025-02-19 10:50:12.872 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:12.873 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:12.877 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 60.4223ms
2025-02-19 10:50:12.874 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 57.3644ms
2025-02-19 10:50:18.339 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:50:18.341 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:18.343 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:18.344 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:50:18.349 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:18.352 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:18.355 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:50:18.356 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 8.4227ms
2025-02-19 10:50:18.358 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:18.359 -05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - -
2025-02-19 10:50:18.360 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 20.4978ms
2025-02-19 10:50:18.364 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - -
2025-02-19 10:50:18.361 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:18.366 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:18.368 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewsPorLibro - - - 204 - - 3.3005ms
2025-02-19 10:50:18.367 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:18.370 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:50:18.373 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:18.377 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:18.370 -05:00 [INF] Route matched with {action = "ObtenerLibroPorid", controller = "Libro"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ObtenerLibroPorid(Int64) on controller AdaptadorAPI.Controllers.LibroController (AdaptadorAPI).
2025-02-19 10:50:18.378 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:18.381 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:18.383 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:18.387 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:18.390 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:18.391 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Libros.Modelo.LibroModelo'.
2025-02-19 10:50:18.395 -05:00 [INF] Executed action AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI) in 15.8807ms
2025-02-19 10:50:18.395 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:50:18.397 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.LibroController.ObtenerLibroPorid (AdaptadorAPI)'
2025-02-19 10:50:18.401 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:18.401 -05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/Libro/ObtenerLibroPorid/1 - - - 200 - application/json;+charset=utf-8 41.9020ms
2025-02-19 10:50:18.402 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 20.6062ms
2025-02-19 10:50:18.406 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106
2025-02-19 10:50:18.409 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:18.415 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:18.416 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 46.1788ms
2025-02-19 10:50:18.417 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:18.418 -05:00 [INF] Route matched with {action = "ConsultarReviewsPorLibro", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewsPorLibro(Dominio.Libros.Modelo.LibroModelo) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:18.426 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:18.431 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Libros" AS l
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__id_0
LIMIT 1
2025-02-19 10:50:18.435 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE l."Id" = @__Libro_Id_0
ORDER BY r."CreatedAt" DESC
2025-02-19 10:50:18.439 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:18.441 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI) in 14.7551ms
2025-02-19 10:50:18.442 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewsPorLibro (AdaptadorAPI)'
2025-02-19 10:50:18.443 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewsPorLibro application/json 106 - 200 - application/json;+charset=utf-8 37.3889ms
2025-02-19 10:50:21.170 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:50:21.170 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - -
2025-02-19 10:50:21.173 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:21.173 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:21.174 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 4.7145ms
2025-02-19 10:50:21.175 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 - - - 204 - - 5.5082ms
2025-02-19 10:50:21.177 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:50:21.178 -05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0
2025-02-19 10:50:21.180 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:21 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:50:21.182 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:21 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 10:50:21.195 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:21 p.m.'.
2025-02-19 10:50:21.187 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 3:50:21 p.m.'.
2025-02-19 10:50:21.196 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:21.198 -05:00 [INF] CORS policy execution successful.
2025-02-19 10:50:21.198 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:21.199 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:21.201 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:21.202 -05:00 [INF] Route matched with {action = "ConsultarReviewPorUsuarioPaginado", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ConsultarReviewPorUsuarioPaginado(Int64, Int32, Int32) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 10:50:21.206 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:21.209 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 10:50:21.212 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:50:21.215 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 10:50:21.217 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:50:21.220 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT COUNT(*)::INT
FROM (
    SELECT DISTINCT r."LibroId"
    FROM "Reviews" AS r
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
2025-02-19 10:50:21.222 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:50:21.225 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_0='?' (DbType = Int64), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='300']
SELECT t."Id", t."Autor", t."CategoriasLibroId", t."Resumen", t."Titulo"
FROM (
    SELECT DISTINCT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
    FROM "Reviews" AS r
    INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
    WHERE r."UsuarioId" = @__Usuario_Id_0
) AS t
ORDER BY t."Titulo" DESC
LIMIT @__p_2 OFFSET @__p_1
2025-02-19 10:50:21.229 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:50:21.230 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Usuario_Id_1='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE (r."LibroId" = 1) AND (r."UsuarioId" = @__Usuario_Id_1)
2025-02-19 10:50:21.232 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:21.234 -05:00 [INF] Executing OkObjectResult, writing value of type 'Dominio.Servicios.ServicioPaginacion.Modelos.PaginacionResultadoModelo`1[[Dominio.Reviews.Modelo.ReviewModel, Dominio, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-19 10:50:21.235 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 30.3656ms
2025-02-19 10:50:21.236 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI) in 27.9385ms
2025-02-19 10:50:21.237 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:21.239 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.ConsultarReviewPorUsuarioPaginado (AdaptadorAPI)'
2025-02-19 10:50:21.242 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 64.7016ms
2025-02-19 10:50:21.241 -05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/Review/ConsultarReviewPorUsuarioPaginado/1/4 ?idUsuario=2 application/json 0 - 200 - application/json;+charset=utf-8 62.3170ms
2025-02-19 11:18:42.939 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/EliminarReviewPorId/5 - -
2025-02-19 11:18:42.961 -05:00 [INF] CORS policy execution successful.
2025-02-19 11:18:42.967 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/EliminarReviewPorId/5 - - - 204 - - 29.3416ms
2025-02-19 11:18:42.974 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5043/Review/EliminarReviewPorId/5 application/json -
2025-02-19 11:18:42.986 -05:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 4:18:42 p.m.'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-19 11:18:42.998 -05:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '19/02/2025 2:12:25 p.m.', Current time (UTC): '19/02/2025 4:18:42 p.m.'.
2025-02-19 11:18:43.149 -05:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-02-19 11:18:43.219 -05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-19 11:18:43.222 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5043/Review/EliminarReviewPorId/5 application/json - - 401 0 - 247.0256ms
2025-02-19 11:18:50.312 -05:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5043/Review/EliminarReviewPorId/5 - -
2025-02-19 11:18:50.313 -05:00 [INF] CORS policy execution successful.
2025-02-19 11:18:50.314 -05:00 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5043/Review/EliminarReviewPorId/5 - - - 204 - - 2.0644ms
2025-02-19 11:18:50.315 -05:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5043/Review/EliminarReviewPorId/5 application/json -
2025-02-19 11:18:50.318 -05:00 [INF] CORS policy execution successful.
2025-02-19 11:18:50.321 -05:00 [INF] Executing endpoint 'AdaptadorAPI.Controllers.ReviewController.EliminarReviewPorId (AdaptadorAPI)'
2025-02-19 11:18:50.331 -05:00 [INF] Route matched with {action = "EliminarReviewPorId", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult EliminarReviewPorId(Int64) on controller AdaptadorAPI.Controllers.ReviewController (AdaptadorAPI).
2025-02-19 11:18:50.356 -05:00 [INF] Entity Framework Core 6.0.29 initialized 'PostgreSQLDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-02-19 11:18:50.412 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__p_0
LIMIT 1
2025-02-19 11:18:50.443 -05:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT r."Id", r."Calificacion", r."Comentario", r."CreatedAt", r."LibroId", r."UsuarioId", u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry", l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo", c.id, c."Descripcion", c."Nombre"
FROM "Reviews" AS r
INNER JOIN "Usuarios" AS u ON r."UsuarioId" = u."Id"
INNER JOIN "Libros" AS l ON r."LibroId" = l."Id"
INNER JOIN "CategoriasLibro" AS c ON l."CategoriasLibroId" = c.id
WHERE r."Id" = @__id_0
LIMIT 1
2025-02-19 11:18:50.488 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Usuario_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT u."Id", u."Correo", u."FotoPerfil", u."Nombre", u."Password", u."RefreshToken", u."RefreshTokenExpiry"
FROM "Usuarios" AS u
WHERE u."Id" = @__modelDominio_Usuario_Id_0
LIMIT 1
2025-02-19 11:18:50.493 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[@__modelDominio_Libro_Id_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
SELECT l."Id", l."Autor", l."CategoriasLibroId", l."Resumen", l."Titulo"
FROM "Libros" AS l
WHERE l."Id" = @__modelDominio_Libro_Id_0
LIMIT 1
2025-02-19 11:18:50.653 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='300']
DELETE FROM "Reviews"
WHERE "Id" = @p0;
2025-02-19 11:18:50.661 -05:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-19 11:18:50.685 -05:00 [INF] Executed action AdaptadorAPI.Controllers.ReviewController.EliminarReviewPorId (AdaptadorAPI) in 351.2066ms
2025-02-19 11:18:50.687 -05:00 [INF] Executed endpoint 'AdaptadorAPI.Controllers.ReviewController.EliminarReviewPorId (AdaptadorAPI)'
2025-02-19 11:18:50.689 -05:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5043/Review/EliminarReviewPorId/5 application/json - - 200 - application/json;+charset=utf-8 373.4502ms
